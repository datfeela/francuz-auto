function setCookie(e,t,o={}){(o={path:"/",...o}).expires instanceof Date&&(o.expires=o.expires.toUTCString());let n=encodeURIComponent(e)+"="+encodeURIComponent(t);for(let e in o){n+="; "+e;let t=o[e];!0!==t&&(n+="="+t)}document.cookie=n}function getCookie(e){let t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}document.addEventListener("DOMContentLoaded",(e=>{"dark"==getCookie("theme")&&(document.querySelector("body").classList.add("dark-theme"),document.querySelector(".theme-changer__button").classList.add("_active"))})),document.addEventListener("DOMContentLoaded",(e=>{const t=document.querySelector("body");header=document.querySelector(".header"),headerBurger=document.querySelector(".search-header__burger"),headerDropdownMenu=document.querySelector(".search-header__dropdown"),headerSearch=document.querySelector(".search-header"),headerSearchLowres=document.querySelector(".search-header__button_lowres"),headerSearchForm=document.querySelector(".search-header__item"),headerSearchInput=document.querySelector(".search-header__input"),themeChangerButton=document.querySelector(".theme-changer__button");new IntersectionObserver((function(e,t){e[0].isIntersecting?header.classList.remove("_scroll"):header.classList.add("_scroll")})).observe(header);const o=document.querySelector(".announcement-header__close-button");function n(e){e.classList.remove("_hover"),e.lastElementChild.classList.contains("dropdown-menu__sublist")&&Array.from(e.lastElementChild.children).forEach((e=>{e.classList.contains("_hover")&&(n(e),e.classList.remove("_hover"))}))}o.addEventListener("click",(e=>{o.parentNode.classList.add("_hidden"),header.classList.add("_no-announcement")})),headerBurger.addEventListener("click",(e=>{Array.from(headerDropdownMenu.querySelector(".dropdown-menu__list").children).forEach((e=>{e.classList.contains("_hover")&&n(e)})),headerBurger.classList.toggle("_active"),document.documentElement.clientWidth<=720&&t.classList.add("_no-scroll")})),document.addEventListener("click",(e=>{const o=e.target;(!o.closest(".search-header__burger")&&!o.closest(".search-header__dropdown")||o.closest(".dropdown-menu__free-space-cover")||o.closest(".dropdown-menu__close-button"))&&headerBurger.classList.contains("_active")&&(Array.from(headerDropdownMenu.querySelector(".dropdown-menu__list").children).forEach((e=>{e.classList.contains("_hover")&&n(e)})),headerBurger.classList.remove("_active"),document.documentElement.clientWidth<=720&&t.classList.remove("_no-scroll"))})),window.addEventListener("resize",(e=>{document.documentElement.clientWidth>720&&t.classList.contains("_no-scroll")&&t.classList.remove("_no-scroll")})),headerDropdownMenu.addEventListener("mouseover",(e=>{const t=e.target;let o;t.closest(".dropdown-menu__item")&&(t.closest(".dropdown-menu__item").classList.add("_hover"),o=Array.from(t.closest(".dropdown-menu__item").parentNode.children),o.forEach((e=>{t.closest(".dropdown-menu__item")!=e&&e.classList.contains("_hover")&&n(e)})))})),headerSearch.addEventListener("click",(e=>{const t=e.target;document.documentElement.clientWidth<720&&(t.closest(".search-header__button_lowres")||t.closest(".search-header__icon_close"))&&(headerSearchLowres.classList.toggle("_active"),headerSearchForm.classList.toggle("_active"))})),document.addEventListener("click",(e=>{const t=e.target;document.documentElement.clientWidth<720&&!t.closest(".search-header__item")&&!t.closest(".search-header__button_lowres")&&headerSearchForm.classList.contains("_active")&&(headerSearchLowres.classList.remove("_active"),headerSearchForm.classList.remove("_active"))})),themeChangerButton.addEventListener("click",(e=>{t.classList.contains("dark-theme")?setCookie("theme","bright",{sameSite:"Strict",secure:!0,expires:"Tue, 19 Jan 2038 03: 14: 07 GMT"}):setCookie("theme","dark",{sameSite:"Strict",secure:!0,expires:"Tue, 19 Jan 2038 03: 14: 07 GMT"}),themeChangerButton.classList.toggle("_active"),t.classList.toggle("dark-theme")}))})),document.addEventListener("DOMContentLoaded",(e=>{let t=location.hash.slice(4);const o=document.querySelector(".main__product"),n=document.querySelector("head"),s=document.querySelector("title");!async function(){let e=await fetch("json/data.json",{method:"GET"});if(e.ok){!function(e){let c=!1;e.forEach((e=>{if(""!=e.col1&&t.length>3&&e.col2==t){c=!0;const t=e.col1,r=e.col4;let a=`\n                <h1 class="product__name">${r}</h1>\n                <div class="product__info">\n                    <img class="product__image" src="img/product/no-image.png" alt="image" />\n                    <div class="product__characteristic">\n                        <div class="product__brand">\n                            <span class="product__subtitle">Производитель</span>\n                            <span class="product__text">${t}</span>\n                        </div>\n                        <div class="product__article">\n                            <span class="product__subtitle">Артикул</span>\n                            <span class="product__text">${e.col2}</span>\n                        </div>\n                    </div>\n                    <div class="product__availibility">\n                        <span class="product__price">${e.col6}₽</span>\n                        <span class="product__quantity">В наличии ${e.col8} шт.</span>\n                    </div>\n                </div>\n                `;o.insertAdjacentHTML("beforeend",a),s.insertAdjacentHTML("beforeend",`Француз-Авто | ${r}`),n.insertAdjacentHTML("beforeend",`<meta name="description" content="${r} в интернет-магазине Француз-Авто с гарантией и доставкой по Челябинску и области. Ознакомиться с фотографиями, техническими характеристиками и описанием." />`)}})),1==c&&o.classList.add("_active")}(await e.json())}else alert("something went wrong...")}()})),document.addEventListener("DOMContentLoaded",(e=>{$(".title-footer").click((function(){document.documentElement.clientWidth<=560&&($(this).next().slideToggle(),$(this).next().hasClass("contacts-footer__wrapper")&&$(this).next().css("display","flex"),$(this).toggleClass("_active"))})),$(window).resize((function(){document.documentElement.clientWidth>560&&($(".title-footer").next().css("display","block"),$(".title-footer").next().hasClass("contacts-footer__wrapper")&&$(".contacts-footer__wrapper").css("display","flex"),$(".title-footer").hasClass("_active")&&$(".title-footer").removeClass("_active")),document.documentElement.clientWidth<=560&&($(".title-footer").hasClass("_active")||$(".title-footer").next().css("display","none"))}))}));