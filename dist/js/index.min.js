function setCookie(e,t,o={}){(o={path:"/",...o}).expires instanceof Date&&(o.expires=o.expires.toUTCString());let n=encodeURIComponent(e)+"="+encodeURIComponent(t);for(let e in o){n+="; "+e;let t=o[e];!0!==t&&(n+="="+t)}document.cookie=n}function getCookie(e){let t=document.cookie.match(new RegExp("(?:^|; )"+e.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return t?decodeURIComponent(t[1]):void 0}function deleteCookie(e){setCookie(e,"",{"max-age":-1})}function changeCookie(e,t,o){changeQuantity(e.closest(t).href.split("id=")[1],o),changeQuantity("totalQuantity",o)}function changeQuantity(e,t){null==getCookie(e)?setCookie(e,t,{sameSite:"Strict",expires:"Tue, 19 Jan 2038 03: 14: 07 GMT"}):(setCookie(e,+getCookie(e)+t,{sameSite:"Strict",expires:"Tue, 19 Jan 2038 03: 14: 07 GMT"}),0==getCookie(e)&&deleteCookie(e))}document.addEventListener("DOMContentLoaded",(e=>{"dark"==getCookie("theme")&&(document.querySelector("body").classList.add("dark-theme"),document.querySelector(".theme-changer__button").classList.add("_active"))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".popup-call"),t=document.querySelector(".menu-header__item_popup-call"),o=document.querySelector(".menu-footer__popup-button"),n=document.querySelector(".dropdown-menu__popup-button"),s=document.querySelector(".popup-call__close-button"),r=document.querySelector(".form-popup__button_expand"),c=document.querySelector(".form-popup__input_expand");s.addEventListener("click",(()=>{e.classList.toggle("_active")})),t.addEventListener("click",(()=>{e.classList.toggle("_active")})),n.addEventListener("click",(()=>{e.classList.toggle("_active")})),o.addEventListener("click",(()=>{e.classList.toggle("_active")})),r.addEventListener("click",(()=>{r.classList.toggle("_hidden"),setTimeout(r.style.position="absolute",300),c.classList.toggle("_active")}))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector("body");header=document.querySelector(".header"),headerMenu=document.querySelector(".search-header__menu"),headerBurger=document.querySelector(".search-header__burger"),headerDropdownMenu=document.querySelector(".search-header__dropdown"),headerSearch=document.querySelector(".search-header"),headerSearchLowres=document.querySelector(".search-header__button_lowres"),headerSearchForm=document.querySelector(".search-header__item"),headerSearchInput=document.querySelector(".search-header__input"),themeChangerButton=document.querySelector(".theme-changer__button"),headerCart=document.querySelector(".search-header__button_buy");new IntersectionObserver((function(e,t){e[0].isIntersecting?header.classList.remove("_scroll"):header.classList.add("_scroll")})).observe(header);const t=document.querySelector(".announcement-header__close-button");"hidden"==getCookie("announcement")&&(t.parentNode.style.transition="none",t.parentNode.classList.add("_hidden"),header.classList.add("_no-announcement")),t.addEventListener("click",(()=>{t.parentNode.classList.add("_hidden"),header.classList.add("_no-announcement");let e=new Date;e.setHours(e.getHours()+1),e=e.toUTCString(),setCookie("announcement","hidden",{sameSite:"Strict",expires:e})}));let o=document.querySelector(".search-header__counter");function n(e){e.classList.remove("_hover"),e.lastElementChild.classList.contains("dropdown-menu__sublist")&&Array.from(e.lastElementChild.children).forEach((e=>{e.classList.contains("_hover")&&(n(e),e.classList.remove("_hover"))}))}null!=getCookie("totalQuantity")&&(o.innerHTML=getCookie("totalQuantity")),"0"!=o.innerHTML&&o.classList.add("_active"),headerMenu.addEventListener("click",(t=>{Array.from(headerDropdownMenu.querySelector(".dropdown-menu__list").children).forEach((e=>{e.classList.contains("_hover")&&n(e)})),headerBurger.classList.toggle("_active"),headerMenu.classList.toggle("_active"),document.documentElement.clientWidth<=720&&e.classList.add("_no-scroll")})),document.addEventListener("click",(t=>{const o=t.target;(!o.closest(".search-header__menu")&&!o.closest(".search-header__dropdown")||o.closest(".dropdown-menu__free-space-cover")||o.closest(".dropdown-menu__close-button"))&&headerBurger.classList.contains("_active")&&(Array.from(headerDropdownMenu.querySelector(".dropdown-menu__list").children).forEach((e=>{e.classList.contains("_hover")&&n(e)})),headerBurger.classList.remove("_active"),headerMenu.classList.remove("_active"),document.documentElement.clientWidth<=720&&e.classList.remove("_no-scroll"))})),window.addEventListener("resize",(t=>{document.documentElement.clientWidth>720&&e.classList.contains("_no-scroll")&&e.classList.remove("_no-scroll")})),headerDropdownMenu.addEventListener("mouseover",(e=>{if(document.documentElement.clientWidth>720){const t=e.target;let o;t.closest(".dropdown-menu__item")&&(t.closest(".dropdown-menu__item").classList.add("_hover"),o=Array.from(t.closest(".dropdown-menu__item").parentNode.children),o.forEach((e=>{t.closest(".dropdown-menu__item")!=e&&e.classList.contains("_hover")&&n(e)})))}})),window.addEventListener("resize",(e=>{if(document.documentElement.clientWidth<721){let e=headerDropdownMenu.querySelector("._hover");e&&e.classList.remove("_hover")}})),header.addEventListener("click",(e=>{const t=e.target;if(t.closest(".dropdown-menu__expand-button")){const e=t.closest(".dropdown-menu__item").querySelector(".dropdown-menu__sublist"),o=t.closest(".dropdown-menu__expand-button");$(e).slideToggle(),o.classList.toggle("_active")}})),window.addEventListener("resize",(e=>{document.documentElement.clientWidth>720&&(sublistArr=Array.from(document.querySelectorAll(".dropdown-menu__sublist")),sublistArr.forEach((e=>{"none"==getComputedStyle(e).display&&(e.style.display="block")})))})),headerSearch.addEventListener("click",(e=>{const t=e.target;document.documentElement.clientWidth<720&&(t.closest(".search-header__button_lowres")||t.closest(".search-header__icon_close"))&&(headerSearchLowres.classList.toggle("_active"),headerSearchForm.classList.toggle("_active"))})),document.addEventListener("click",(e=>{const t=e.target;document.documentElement.clientWidth<720&&!t.closest(".search-header__item")&&!t.closest(".search-header__button_lowres")&&headerSearchForm.classList.contains("_active")&&(headerSearchLowres.classList.remove("_active"),headerSearchForm.classList.remove("_active"))})),themeChangerButton.addEventListener("click",(t=>{e.classList.contains("dark-theme")?setCookie("theme","bright",{sameSite:"Strict",expires:"Tue, 19 Jan 2038 03: 14: 07 GMT"}):setCookie("theme","dark",{sameSite:"Strict",expires:"Tue, 19 Jan 2038 03: 14: 07 GMT"}),themeChangerButton.classList.toggle("_active"),e.classList.toggle("dark-theme")}))})),document.addEventListener("DOMContentLoaded",(()=>{new Swiper(".slider-main__body",{speed:800,slidesPerView:1,spaceBetween:20,loop:!0,grabCursor:!0,navigation:{nextEl:".controls-slider-main__button_prev",prevEl:".controls-slider-main__button_next"},autoplay:{delay:6e3,waitForTransition:!0},breakpoints:{600:{speed:1200},900:{speed:1600}}});const e=document.querySelector(".slider-main__body");e.addEventListener("click",(()=>{e.classList.add("_hover")})),document.addEventListener("click",(t=>{t.target.closest(".slider-main__body")||e.classList.remove("_hover")}))})),document.addEventListener("DOMContentLoaded",(()=>{const e=document.querySelector(".bestsellers__body");new Swiper(e,{speed:500,slidesPerView:1,spaceBetween:50,threshold:30,loop:!0,navigation:{nextEl:".controls-bestsellers__button_prev",prevEl:".controls-bestsellers__button_next"},autoplay:{delay:6e3,waitForTransition:!0,pauseOnMouseEnter:!0},breakpoints:{576:{slidesPerView:2},800:{slidesPerView:3},1050:{slidesPerView:4}}});let t=document.querySelector(".search-header__counter");e.addEventListener("click",(e=>{const o=e.target;let n=document.querySelector(".product__image-container._active");o.closest(".product__image-container")&&(e.preventDefault(),null!=n&&n.classList.remove("_active"),o.closest(".product__image-container").classList.add("_active")),o.closest(".product__button_buy")&&(e.preventDefault(),o.closest(".product__button_buy").classList.add("onclick"),setTimeout((()=>{o.closest(".product__button_buy").classList.remove("onclick")}),100),o.closest(".product__button_buy").setAttribute("disabled",!0),changeCookie(o,".bestsellers__item",1),document.querySelector(".search-header__counter").innerHTML=+t.innerHTML+1,"0"!=t.innerHTML&&t.classList.add("_active"),o.closest(".product__button_buy").removeAttribute("disabled"))})),document.addEventListener("click",(e=>{const t=e.target;let o=document.querySelector(".product__image-container._active");t.closest(".product__image-container._active")||null==o||o.classList.remove("_active")}))})),document.addEventListener("DOMContentLoaded",(()=>{document.querySelector(".brands-nav__body").addEventListener("click",(e=>{const t=e.target;t.classList.contains("tabs-brands-nav__tab")&&function(e){const t=document.querySelector(".tabs-brands-nav__tab._active"),o=document.querySelector(".brands-nav__page._active"),n=document.querySelector("#passenger-cars-page"),s=document.querySelector("#passenger-cars-ru-page"),r=document.querySelector("#moto-page");if(o.classList.remove("_active"),t.classList.remove("_active"),e.classList.add("_active"),"passenger-cars-button"==e.id)return void n.classList.add("_active");if("passenger-cars-ru-button"==e.id)return void s.classList.add("_active");if("moto-button"==e.id)r.classList.add("_active")}(t)}))})),document.addEventListener("DOMContentLoaded",(()=>{$(".title-footer").click((function(){document.documentElement.clientWidth<=560&&($(this).next().slideToggle(),$(this).next().hasClass("contacts-footer__wrapper")&&$(this).next().css("display","flex"),$(this).toggleClass("_active"))})),$(window).resize((function(){document.documentElement.clientWidth>560&&($(".title-footer").next().css("display","block"),$(".title-footer").next().hasClass("contacts-footer__wrapper")&&$(".contacts-footer__wrapper").css("display","flex"),$(".title-footer").hasClass("_active")&&$(".title-footer").removeClass("_active")),document.documentElement.clientWidth<=560&&($(".title-footer").hasClass("_active")||$(".title-footer").next().css("display","none"))}))}));